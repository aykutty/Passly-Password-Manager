using Passly.Domain;using Passly.Repositories;using Passly.Repositories.Impl;namespace Passly.Services.Impl.Otp;public class OtpCleanupService : BackgroundService{    private readonly IServiceScopeFactory _scopeFactory;    private readonly ILogger<OtpCleanupService> _logger;    public OtpCleanupService(IServiceScopeFactory scopeFactory, ILogger<OtpCleanupService> logger)    {        _scopeFactory = scopeFactory;        _logger = logger;    }    protected override async Task ExecuteAsync(CancellationToken ct)    {        _logger.LogInformation("OTP cleaning background service started.");                while (!ct.IsCancellationRequested)        {            using var scope = _scopeFactory.CreateScope();            var otpService = scope.ServiceProvider.GetRequiredService<IOtpService>();            try            {                await otpService.CleanExpiredOtpsAsync();                _logger.LogInformation("Expired OTPs cleaned at {Time}", DateTime.UtcNow);            }            catch (Exception ex)            {                _logger.LogError(ex, "Error during cleaning expired OTPs");            }                        await Task.Delay(TimeSpan.FromMinutes(5), ct);        }    }    }